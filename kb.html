                                </tr>
                                <tr className="risk-medium">
                                    <td>Governance gaps</td>
                                    <td>Compliance issues</td>
                                    <td>SSO/RBAC; audit logs; review with WDCC/WCDS; document DMP alignment</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            );

            const renderRoadmap = () => (
                <div className="section">
                    <h2 className="section-title">
                        <i className="fas fa-road"></i>
                        Roadmap M6→M12
                    </h2>
                    <div className="section-content">
                        <div style={{display: 'grid', gap: '20px'}}>
                            <div style={{background: '#e3f2fd', padding: '20px', borderRadius: '8px', borderLeft: '5px solid #2196f3'}}>
                                <h4>M6→M8: Foundation</h4>
                                <ul>
                                    <li>Integrate speech + translation</li>
                                    <li>Add AuthN/Z and audit logging</li>
                                    <li>Polish retriever policy (pivot thresholds)</li>
                                </ul>
                            </div>
                            <div style={{background: '#f3e5f5', padding: '20px', borderRadius: '8px', borderLeft: '5px solid #9c27b0'}}>
                                <h4>M7→M9: Model Evaluation</h4>
                                <ul>
                                    <li>Side-by-side eval: Mistral-7B vs gpt-oss-20b</li>
                                    <li>Iterate quantisation and prompt templates</li>
                                    <li>Pick default model</li>
                                </ul>
                            </div>
                            <div style={{background: '#e8f5e8', padding: '20px', borderRadius: '8px', borderLeft: '5px solid #4caf50'}}>
                                <h4>M8→M10: UX & Testing</h4>
                                <ul>
                                    <li>UX hardening</li>
                                    <li>Multilingual UI labels and safety copy</li>
                                    <li>Curate v2 eval set</li>
                                </ul>
                            </div>
                            <div style={{background: '#fff3e0', padding: '20px', borderRadius: '8px', borderLeft: '5px solid #ff9800'}}>
                                <h4>M10→M12: Delivery</h4>
                                <ul>
                                    <li>Freeze D4.1 demo build</li>
                                    <li>Internal dry-runs</li>
                                    <li>Draft D4.2 paper (methods, results, failures)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            );

            const renderSection = (sectionId) => {
                switch(sectionId) {
                    case 'executive-summary': return renderExecutiveSummary();
                    case 'scope': return renderScope();
                    case 'architecture': return renderArchitecture();
                    case 'data-sources': return renderDataSources();
                    case 'prototype': return renderPrototype();
                    case 'technical-bom': return renderTechnicalBOM();
                    case 'targets': return renderTargets();
                    case 'governance': return (
                        <div className="section">
                            <h2 className="section-title"><i className="fas fa-shield-alt"></i> Governance, Security, and Hosting</h2>
                            <div className="section-content">
                                <ul>
                                    <li><strong>Boundary:</strong> All inference and retrieval run inside WUR infrastructure, by default air-gapped from public APIs</li>
                                    <li><strong>Access:</strong> SSO/LDAP; role-based permissions for researcher vs. demo users</li>
                                    <li><strong>Provenance & logging:</strong> Immutable logs of prompts, retrieval sets, and cited sources</li>
                                    <li><strong>Safety rails:</strong> Domain filters, citation-first UI, and answer abstention when confidence is low</li>
                                </ul>
                            </div>
                        </div>
                    );
                    case 'model-choice': return (
                        <div className="section">
                            <h2 className="section-title"><i className="fas fa-brain"></i> Model Choice Update</h2>
                            <div className="section-content">
                                <p>We will keep Mistral-7B as a known-good baseline while we evaluate gpt-oss-20b on our own benchmarks.</p>
                                <table className="data-table">
                                    <thead>
                                        <tr><th>Criterion</th><th>Mistral-7B</th><th>gpt-oss-20b (OpenAI)</th></tr>
                                    </thead>
                                    <tbody>
                                        <tr><td>Weights</td><td>Open weights</td><td>Open weights</td></tr>
                                        <tr><td>License</td><td>Community variants</td><td>Apache-2.0</td></tr>
                                        <tr><td>Memory</td><td>~8–16 GB typical</td><td>~16 GB edge profile</td></tr>
                                        <tr><td>Signals</td><td>Stable in our stack</td><td>OpenAI claims o3-mini-like scores</td></tr>
                                        <tr><td>Risk</td><td>Lower (already integrated)</td><td>Needs local eval on our corpora</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    );
                    case 'metrics': return (
                        <div className="section">
                            <h2 className="section-title"><i className="fas fa-chart-bar"></i> Prototype Metrics (M1→M6 snapshot)</h2>
                            <div className="section-content">
                                <div className="metrics-grid">
                                    <div className="metric-card">
                                        <div className="metric-value">114</div>
                                        <div className="metric-label">Total Files</div>
                                    </div>
                                    <div className="metric-card">
                                        <div className="metric-value">640.4MB</div>
                                        <div className="metric-label">Corpus Size</div>
                                    </div>
                                    <div className="metric-card">
                                        <div className="metric-value">8|21|85</div>
                                        <div className="metric-label">High|Med|Low Quality</div>
                                    </div>
                                    <div className="metric-card">
                                        <div className="metric-value">0.368</div>
                                        <div className="metric-label">Avg Relevance Score</div>
                                    </div>
                                </div>
                                <p>These figures constitute the baseline for M6-M12 improvements (speech, translation, and model evaluation).</p>
                            </div>
                        </div>
                    );
                    case 'evaluation': return (
                        <div className="section">
                            <h2 className="section-title"><i className="fas fa-clipboard-check"></i> Evaluation Plan</h2>
                            <div className="section-content">
                                <h3>Datasets & Tasks</h3>
                                <ul>
                                    <li>Grounded Q&A set (50–100 prompts) across seeds/soils/pests</li>
                                    <li>Multilingual pairs (EN↔FR↔SW↔AR) for retrieval robustness</li>
                                    <li>Speech variants (noisy vs. clean) to test STT sensitivity</li>
                                </ul>
                                <h3>Metrics</h3>
                                <ul>
                                    <li>Faithfulness (source-supported units/claims present)</li>
                                    <li>Citation correctness, answer completeness</li>
                                    <li>Toxicity/safety, latency</li>
                                    <li>Human-in-the-loop scoring (two reviewers) + automated rubric</li>
                                </ul>
                            </div>
                        </div>
                    );
                    case 'integration': return (
                        <div className="section">
                            <h2 className="section-title"><i className="fas fa-puzzle-piece"></i> Integration and Reuse</h2>
                            <div className="section-content">
                                <p>WP4 shares patterns with WP3/WP5: ETL utilities, embeddings/FAISS stack, and governance patterns are reusable. Hosting starts on a workstation; heavy tests can target HPC-Anunna; all exposed through a modular API so other WPs can plug into the retriever/LLM.</p>
                            </div>
                        </div>
                    );
                    case 'risks': return renderRisks();
                    case 'roadmap': return renderRoadmap();
                    default: return <div>Section not found</div>;
                }
            };

            return (
                <div className="container">
                    <div className="sidebar">
                        <div className="sidebar-header">
                            <div className="sidebar-title">WP4 — AI for Local-Language Farm Advisory</div>
                            <div className="sidebar-subtitle">M6 "Use Case Vision & Design" Report</div>
                        </div>
                        
                        <div className="search-box">
                            <input
                                type="text"
                                className="search-input"
                                placeholder="Search sections..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                        </div>
                        
                        <div className="nav-menu">
                            {filteredSections.map(section => (
                                <div
                                    key={section.id}
                                    className={`nav-item ${activeSection === section.id ? 'active' : ''}`}
                                    onClick={() => setActiveSection(section.id)}
                                >
                                    <i className={section.icon}></i>
                                    <span>{section.title}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    <div className="main-content">
                        <div className="content-header">
                            <h1 className="content-title">WP4 — AI for Local-Language Farm Advisory</h1>
                            <p className="content-subtitle">M6 "Use Case Vision & Design" Report</p>
                            <div className="milestone-badge">Milestone 6 Deliverable</div>
                        </div>
                        
                        <div className="content-body">
                            {renderSection(activeSection)}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
